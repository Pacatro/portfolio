<dialog
  id="cmdDialog"
  class="bg-[#1e1e2e] border border-cyan-400 rounded-lg p-4 w-96"
>
  <div class="flex items-center space-x-2">
    <p class="text-lg sm:text-xl font-bold text-green-300 lowercase">></p>
    <input
      type="text"
      spellcheck="false"
      class="bg-transparent border-none outline-none text-pink-300 text-lg w-full font-mononoki font-semibold placeholder-gray-500"
      placeholder=":h"
    />
  </div>
</dialog>

<script>
  import { Cmd } from "../cmd/cmd";

  const $cmdDialog = document.getElementById("cmdDialog") as HTMLDialogElement;
  const $inputElement = $cmdDialog.querySelector("input") as HTMLInputElement;

  $cmdDialog.addEventListener("keypress", (event) => {
    if (event.key === "Enter" && $inputElement.value) {
      const cmd = new Cmd();
      cmd.execute($inputElement.value);
      $inputElement.value = "";
      $cmdDialog.close();
    }
  });

  $cmdDialog.addEventListener("close", () => ($inputElement.value = ""));
</script>
